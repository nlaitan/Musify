<div *ngIf="identity" class="navigation">
    
    <!-- MENÚ LATERAL -->    
    <ul class="sidenav sidenav-fixed grey darken-4" id="mobile-nav">
        <li>
            <div class="user-view">
                <div class="background">
                    <img src="./assets/img/background-side.png">
                </div>
                <a href="#user">
                    <div class="image_cover">
                        <img id="image-logged" class="avatar" src="{{url + 'get-image-user/' + identity.image}}">  
                    </div>
                </a>
                <a href="#name">
                    <span id="userData" class="white-text name">{{identity.name}} {{identity.lastname}}</span>
                </a>
                <a href="#email">
                    <span class="white-text email">{{identity.email}}</span>
                </a>
            </div>
        </li>
        <li><div class="divider grey darken-3"></div></li>
        <li>
            <a class="grey-text text-lighten-5">
                <span class="fa fa-star amber-text" aria-hidden="true"></span>
                Artistas
            </a>
        </li>
        <li>
            <a class="grey-text text-lighten-5">
                <span class="fa fa-book red-text text-darken-4" aria-hidden="true"></span>
                Álbums
            </a>
        </li>
        <li><div class="divider  grey darken-3"></div></li>            
        <li>
            <a class="grey-text text-lighten-5" [routerLink]="['/mis-datos']" >
                <span class="fa fa-cog" aria-hidden="true"></span>
                Opciones
            </a>
        </li>
        <li>
            <a class="grey-text text-lighten-5" (click)="logout()">
                <span class="fa fa-sign-out" aria-hidden="true"></span>
                Cerrar sesión 
            </a>
        </li>
    </ul>

    <!-- MENÚ SUPERIOR -->
    <nav class="grey darken-4">
        <div class="nav-wrapper">
            <a [routerLink]="['/']" class="brand-logo purple-text text-lighten-1">
                <img src="./assets/img/music-playerx64.png" width="50">
                LISTEN
            </a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li>
                    <nav class="grey darken-3 z-depth-0">
                        <form>
                            <div class="input-field">
                                <input id="search" type="search" placeholder="Buscar" required>
                                <label class="label-icon" for="search">
                                    <i class="fa fa-search"></i>
                                </label>
                                <i class="material-icons"><i class="fa fa-close"></i></i>
                            </div>
                        </form>
                    </nav>
                </li>
            </ul>   
        </div>
    </nav>
</div>

<a *ngIf="identity" href="#" class="sidenav-trigger btn-floating pulse hide-on-large-only purple darken-2" data-target="mobile-nav">
    <i class="fa fa-bars fa-2x white-text"></i>
</a>

<div *ngIf="identity" >
    <router-outlet></router-outlet>
</div>

<!-- LOGIN Y REGISTRO -->
<div class="container" *ngIf="!identity">
    <div class="row">
       
        <!-- LOGIN -->
        <div class="col m6 s12 center-align" >   
            <img class="" src="../../assets/img/music-playerx128.png" alt="" width="64" height="64">
            <h3 class="">Inicie sesión</h3>
            
            <form #loginForm="ngForm" (ngSubmit)="onSubmit()" class="form-signin" ngNativeValidate>    
                <div *ngIf="errorMessage">
                    <div class="" role="alert">
                        <strong>Error: </strong> {{ errorMessage }}
                    </div>
                </div>
                <div class="input-field">
                    <input type="email" #email="ngModel" name="email" [(ngModel)]="user.email"  
                    class="form-control validate " id="email" required>
                    <label for="email">Email</label>
                    <span class="helper-text" data-error="El email no es válido"                       data-success="El email es válido"></span>
                </div>

                <div class="input-field">    
                    <input type="password" #password="ngModel" name="password" [(ngModel)]="user.password" class="form-control validate" required id="password" />
                    <label for="password">Contraseña</label>
                </div>
                   
                <br/>  
                <button class="waves-effect waves-light btn col s12 purple darken-3 z-depth-3" type="submit">Entrar</button>
            </form>
        </div>

        <!-- REGISTRO -->
        <div class="col m6 s12 center-align">
            <form #registerForm="ngForm" (ngSubmit)="onSubmitRegister()" class="form-signup" ngNativeValidate>
                <h3 class="">Registrarse</h3>
                
                <div *ngIf="alertRegister">
                    <div class="" role="alert">
                        {{ alertRegister }}
                    </div>
                </div>
                
                <div *ngIf="successRegister">
                    <div class="" role="alert">
                        {{ successRegister }}
                    </div>
                </div>

                <div class="input-field">
                    <input #name="ngModel" [(ngModel)]="user_register.name" name="name" type="text" class="form-control validate" id="name" required />
                    <label for="name">Nombre</label>
                    <span class="helper-text" data-error="El nombre es obligatorio"                       data-success=""></span>
                </div>
                
                <div class="input-field">
                    <input #lastname="ngModel" [(ngModel)]="user_register.lastname" name="lastname" type="text" class="form-control validate" id="lastname" required />
                    <label for="lastname">Apellido</label>
                    <span class="helper-text" data-error="El apellido es obligatorio"                       data-success=""></span>
                </div>
               
                <div class="input-field">
                    <input #email="ngModel" [(ngModel)]="user_register.email" name="email" type="email" class="form-control validate" id="emailReg" required />
                    <label for="emailReg">Email</label>
                    <span class="helper-text" data-error="El email no es válido"                       data-success="El email es válido"></span>
                </div>
               
                <!-- IMAGEN -->

                <div class="input-field">
                    <input #password="ngModel" [(ngModel)]="user_register.password" name="password" type="password" class="form-control validate" id="passwordReg" required />
                    <label for="passwordReg">Contraseña</label>
                </div>
                
                <br/>
                <button class="waves-effect waves-light btn col s12 purple darken-3 z-depth-3" type="submit">Registrarse</button>
            </form>
        </div>
                                    
    </div>
</div>
